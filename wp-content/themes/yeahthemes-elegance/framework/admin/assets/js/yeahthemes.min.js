if("undefined"==typeof Yeahthemes)var Yeahthemes={};!function(t){"use strict";"undefined"!=typeof Yeahthemes&&(Yeahthemes.OptionsFramework={init:function(){var e=this;this._container=t("body.yeah-framework"),this._successPopup="yt-popup-save",this._failPopup="yt-popup-fail",this._resetPopup="yt-popup-reset",this._ytAjaxifyingClass="yt-ajaxifying",this._optionVars={};t(document).ready(function(){e.documentReady()}),t(window).on("load",function(){e.windowLoad()}).on("scroll",function(t){e.optionSetingsPanel.stickyPanelNav()}).on("resize",function(){clearTimeout(t.data(this,"resizeTimeOut")),t.data(this,"resizeTimeOut",setTimeout(function(){e.optionSetingsPanel.panelNavEqualHeight(),e.optionSetingsPanel.stickyPanelNav()},300))}).on("tab-group-changed",function(){e.optionSetingsPanel.panelNavEqualHeight(),e.optionSetingsPanel.stickyPanelNav()})},documentReady:function(){var e=this;t("#js-warning").hide(),t(".yt-section-oembed").length&&t(".yt-section-oembed").fitVids(),e.optionSetingsPanel.displayRecentActivatedTab(),e.optionSetingsPanel.optionPanelNavAction(),e.optionSetingsPanel.toggleSettingPanelFullwidth(),Yeahthemes.OptionsFrameworkUploader.removeFile(),Yeahthemes.OptionsFrameworkUploader.galleryUpload(),Yeahthemes.OptionsFrameworkUploader.fileUpload(),Yeahthemes.OptionsFrameworkUploader.mediaUpload(),e.optionSettingBindEvents(),e.optionSettingPanelAjaxifyingActions(),e.optionSettingControlsAction.typographyClone()},windowLoad:function(){var e=this;if(e.helper.doneProcessing(),e.optionSetingsPanel.panelNavEqualHeight(),t().tipsy&&t(".tip-tip, .yt-select-wrapper ").tipsy({fade:!0,gravity:"s"}),window.location.hash){window.location.hash.substring(1)}e.metaboxFriendlyUi.postFormatSwitcher(),e.optionSettingControlsAction.generalInit()},helper:{processing:function(){t("body").addClass(Yeahthemes.OptionsFramework._ytAjaxifyingClass)},doneProcessing:function(){t("body").removeClass(Yeahthemes.OptionsFramework._ytAjaxifyingClass)}},optionSetingsPanel:{panelNavEqualHeight:function(){if(t("#yt-nav").length||t("#yt-content").length){var e=t("#yt-nav"),i=t("#yt-content"),a=0;e.css("height",""),i.css("min-height",""),t(window).width()>768&&setTimeout(function(){a=i.outerHeight()>t("#yt-nav > ul").outerHeight()?i.outerHeight():t("#yt-nav > ul").height(),e.css("height",a),i.css("min-height",a)},250)}},stickyPanelNav:function(){if("undefined"==typeof e)var e;if("undefined"==typeof i)var i="down";if(e=t(window).scrollTop(),i=e>Yeahthemes.OptionsFramework.lastScrollTop?"down":"up",t("#yt-nav").length){if("undefined"==typeof a)var a=t("#yt-nav");"undefined"==typeof a.data("offsetTop")&&a.data("offsetTop",a.offset().top),t(window).width()>768&&t("#yt-nav > ul").outerHeight()<t("#yt-content").outerHeight()&&(e>a.data("offsetTop")-32&&e<t("#yt-foot").offset().top-t("#yt-nav > ul").outerHeight()?t(window).height()<t("#yt-nav > ul").outerHeight()&&"up"==i?(t("#yt-nav").addClass("affix-bottom-fix"),t("#yt-nav").removeClass("affix-top"),t("#yt-nav").removeClass("affix-bottom")):(t("#yt-nav").addClass("affix-top"),t("#yt-nav").removeClass("affix-bottom"),t("#yt-nav").removeClass("affix-bottom-fix")):e>t("#yt-foot").offset().top-t("#yt-nav > ul").outerHeight()?(t("#yt-nav").addClass("affix-bottom"),t("#yt-nav").removeClass("affix-top"),t("#yt-nav").removeClass("affix-bottom-fix")):(t("#yt-nav").removeClass("affix-top"),t("#yt-nav").removeClass("affix-bottom"),t("#yt-nav").removeClass("affix-bottom-fix")))}if(t(".yt-info-bar:not(#yt-foot)").length){if("undefined"==typeof n)var n=t(".yt-info-bar:not(#yt-foot)");"undefined"==typeof n.data("offsetTop")&&n.data("offsetTop",n.offset().top),e>=n.data("offsetTop")-32?(n.addClass("affix-top"),n.css("left",t("#yt-content").offset().left),t("#yt-header").css("margin-bottom",n.outerHeight())):(n.removeClass("affix-top"),n.css("left",""),t("#yt-header").css("margin-bottom",""))}Yeahthemes.OptionsFramework.lastScrollTop=e},displayRecentActivatedTab:function(){var e=window.location.hash,i='[href="'+e+'"]';if(t("#yt-nav").find(i).length)if(t("#yt-nav").find(i).parents("li").addClass("current"),t(i).parent("li").hasClass("has-children")){var a=t(i).siblings().children("li:first").find("[href]").attr("href");t(a).show().addClass("current"),t(i).siblings().children("li:first").addClass("current"),t("#yt-nav ul.sub-menu").hide(),t(i).siblings("ul.sub-menu").slideDown(300)}else t(e).show().addClass("current"),t("#yt-nav").find(i).closest(".sub-menu").show("fast",function(){});else if(t.cookie("yt_current_opt")&&t(t.cookie("yt_current_opt")).length){var n=t.cookie("yt_current_opt");t(n).show(0,function(){t(this).addClass("current")}),t("#yt-nav").find('a[href="'+n+'"]').parents("li").addClass("current"),t("#yt-nav").find('a[href="'+n+'"]').closest(".sub-menu").show("fast",function(){})}else if(t(".yt-group:first").show(0,function(){t(this).addClass("current")}),t("#yt-nav li:first").addClass("current"),t("#yt-nav li:first").has("ul")){var o,s=t("#yt-nav li:first ul");s.show(),s.find("li:first-child").addClass("current"),o=s.find("li:first-child a").attr("href"),"undefined"!=typeof o&&o.length&&t(o).show().siblings().hide()}},optionPanelNavAction:function(){t("#yt-nav li a").on("click",function(e){Yeahthemes.OptionsFramework.optionSetingsPanel.panelNavEqualHeight();t(this);if(t(this).parent().hasClass("current"))return void e.preventDefault();if(t(this).parent("li").hasClass("has-children")){t("#yt-nav li").removeClass("current"),t(this).parent().addClass("current"),t(this).siblings().children("li:first").addClass("current");var i=t("ul.sub-menu li:first a",t(this).parent()).attr("href");t.cookie("yt_current_opt",i,{expires:7,path:"/"}),t("body").hasClass("yt-admin-motion-enabled")?(t(".yt-group").removeClass("current").delay(210).hide(0,function(){t(".yt-group").not(i).removeClass("has-transform")}),t(i).addClass("has-transform").show(10,function(){t(this).addClass("current")})):(t(".yt-group").not(i).removeClass("current").hide(0),t(i).fadeIn(300).addClass("current")),t("#yt-nav ul.sub-menu").hide(),t(this).siblings("ul.sub-menu").slideDown(300)}else{t("#yt-nav li").removeClass("current"),t(this).parent().addClass("current");var i=t(this).attr("href");t.cookie("yt_current_opt",i,{expires:7,path:"/"}),t("body").hasClass("yt-admin-motion-enabled")?(t(".yt-group").removeClass("current").delay(210).hide(0,function(){t(".yt-group").not(i).removeClass("has-transform")}),t(i).addClass("has-transform").show(10,function(){t(this).addClass("current")})):(t(".yt-group").removeClass("current").hide(0),t(i).fadeIn(300).addClass("current")),t(this).closest("ul").hasClass("sub-menu")||t("#yt-nav ul.sub-menu").slideUp("fast",function(){})}e.preventDefault()}),t("#yt-nav li ul.sub-menu li a").on("click",function(e){t(this).closest(".top-level").addClass("current"),e.preventDefault()})},toggleSettingPanelFullwidth:function(){t(document).on("click","#yt-expand-options-panel",function(e){t("#yt-container form.yt-options-panel-form").toggleClass("yt-options-panel-fullsize")})}},optionSettingBindEvents:function(){var e=this;t(document).on("keydown keypress",'.yt-section-text-number input[type="text"]',e.optionSettingControlsAction.textInputNumber).on("click",".yt-fold-trigger.yt-checkbox",e.optionSettingControlsAction.foldingCheckbox).on("click",".yt-radio-toggle-options > label",e.optionSettingControlsAction.colorBlocksAndImages).on("click",".yt-section-separator",e.optionSettingControlsAction.separatorFolding).on("click",".yt-radio-toggles label",e.optionSettingControlsAction.toggleButtons).on("keydown",".yt-tabifiable-textarea .yt-textarea",Yeahthemes.Helper.tabifyTextarea),e.optionSettingControlsAction.colorPicker(".yt-colorpicker"),e.optionSettingControlsAction.datePicker(".yt-input-calendar"),e.optionSettingControlsAction.repeatableFields.init(),e.optionSettingControlsAction.sorterList.init(),e.optionSettingControlsAction.tabGroup(),e.optionSettingControlsAction.timePicker(".yt-input-time"),e.optionSettingControlsAction.typographyPreview(),e.optionSettingControlsAction.uiSlider(".yt-ui-slider"),e.optionSettingControlsAction.foldingSelect(),e.optionSettingControlsAction.getOEmbed(),e.optionSettingControlsAction.ajaxSearchTag()},metaboxFriendlyUi:{postFormatSwitcher:function(){var e="#yt_post_format_settings_metabox .yt-group-tab-wrapper:first .yt-group-tab-header li",i="#formatdiv #post-formats-select";if(t(i).length){var a=t(i+" input:checked"),n=a.parent().children("input").index(a);t(e+":eq("+n+")").trigger("click"),t(document).on("click",e,function(){var e=t(this),a=e.index();t(i+" input:eq("+a+")").prop("checked",!0)}),t(document).on("change",i+" input",function(){var i=t(this),a=("#"+i.attr("id"),i.parent().children("input").index(i));t(e+":eq("+a+")").trigger("click")})}}},optionSettingControlsAction:{generalInit:function(){t('[data-sortable="true"]').each(function(){t(this).sortable()})},ajaxSearchTag:function(){t(".yt-ajax-tag-search").each(function(e,i){var a,n=t(this),o=n.data("tax")||"post_tag",s=n.siblings('input[type="hidden"]'),r=(n.siblings('input[type="button"]'),n.siblings(".yt-tag-list")),l=",";s.val(),t("a",r);n.autocomplete({source:function(e,i){t.ajax({url:ajaxurl,type:"GET",async:!0,cache:!1,dataType:"json",data:{action:"yt_ajax_tag_search",tax:o,q:t.trim(n.val())},success:function(t){i(jQuery.map(t,function(t){return{id:t.id,name:t.name}}))}})},minLength:2,delay:500,response:function(t,e){n.removeClass("ui-autocomplete-loading")},open:function(){},close:function(){},focus:function(e,i){e.preventDefault(),t(this).val(i.item.name)},change:function(t,e){},search:function(t,e){},select:function(t,e){r.append('<span data-id="'+e.item.id+'"><a class="ntdelbutton">x</a>&nbsp;'+e.item.name+"</span>"),a=s.val()+l+e.item.id,a=Yeahthemes.Helper.arrayUniqueNoempty(a.split(l)),s.val(a)}}).data("ui-autocomplete")._renderItem=function(t,e){return jQuery('<li data-id="'+e.id+'">').append("<a><strong>"+e.name+"</strong></a>").appendTo(t)},t(document).on("click",".yt-tag-list a",function(e){var i=t(this).parent("span").data("id");a=s.val().split(l);for(var n=a.length-1;n>=0;n--)parseInt(a[n])===parseInt(i)&&a.splice(n,1);a=a.join(l),s.val(a),t(this).parent().remove(),e.preventDefault()})})},textInputNumber:function(e){-1!==t.inArray(e.keyCode,[46,8,9,27,13,190])||65==e.keyCode&&e.ctrlKey===!0||e.keyCode>=35&&e.keyCode<=39||(e.shiftKey||e.keyCode<48||e.keyCode>57)&&(e.keyCode<96||e.keyCode>105)&&e.preventDefault()},colorBlocksAndImages:function(e){var i=t(this);i.addClass("active").siblings("label").removeClass("active").siblings('[type="hidden"]').val(i.data("value")),e.preventDefault()},colorPicker:function(e){t(e).each(function(e,i){var a=t(this),n={defaultColor:a.data("std"),change:function(t,e){},clear:function(){},hide:!0,palettes:!0};a.wpColorPicker(n)})},datePicker:function(e){t(e).length&&(t(e).each(function(){t("#"+t(this).attr("id")).datepicker({showAnim:"fadeIn"})}),t(e).siblings(".yt-datepicker-image").on("click",function(){t(this).siblings(e).focus()}))},foldingCheckbox:function(e){var i=t(this),a=".f_"+this.id;i.closest(".yt-section-checkbox").siblings(a).slideToggle("normal","swing",function(){void 0!==i.attr("checked")?t(a).removeClass("yt-temp-hide"):t(a).addClass("yt-temp-hide")})},foldingSelect:function(){t(document).on("change",".yt-section-select select",function(){var e=t(this),i=e.attr("id");t(".f_"+i).each(function(i,a){-1!=t(this).data("fold").indexOf(e.val())?t(this).slideDown(300):t(this).slideUp(300)})}),t.each(t(".yt-section-select select"),function(){var e=t(this),i=e.attr("id");t(".f_"+i).each(function(i,a){-1!=t(this).data("fold").indexOf(e.val())&&t(this).show()})})},getOEmbed:function(){t(document).on("click",".yt-oembed-preview",function(e){var i=t(this),a=i.siblings(".spinner"),n={action:"yt_field_type_oembed_get_embed",url:i.parent().siblings("input").val()};a.show(function(){t(this).css("display","inline-block")}),t.get(ajaxurl,n,function(t){t&&!t.error?(a.hide(),i.parent().siblings(".yt-oembed-preview-area").html(t.data),i.siblings(".yt-oembed-remove-button").removeClass("yt-hidden")):(a.hide(),i.parent().siblings(".yt-oembed-preview-area").html("<p>"+yt_optionsVars.oembedPreviewErrorMsg+"</p>"),i.siblings(".yt-oembed-remove-button").removeClass("yt-hidden"))},"json"),e.preventDefault()}).on("click",".yt-oembed-remove-button",function(e){var i=t(this);i.addClass("yt-hidden").parent().siblings(".yt-oembed-preview-area").html("").siblings("input").val(""),e.preventDefault()})},separatorFolding:function(e){if(void 0!=t(this).attr("data-show")){var i=t(this).attr("id").split("yt-section-");i=i[1],"yes"==t(this).data("show")?(t(this).siblings('.yt-section[data-folds="'+i+'"]:not(.yt-temp-hide)').hide(),t(this).data("show","no").addClass("collapse")):(t(this).siblings('.yt-section[data-folds="'+i+'"]:not(.yt-temp-hide)').show(),t(this).data("show","yes").removeClass("collapse")),e.preventDefault()}},timePicker:function(e){t(e).length&&(t(e).each(function(){t("#"+t(this).attr("id")).on("keydown keypress",function(t){(38!==t.keyCode||40!==t.keyCode||13!==t.keyCode||27!==t.keyCode)&&t.preventDefault()}),t("#"+t(this).attr("id")).timePicker({startTime:"07:00",endTime:"23:00",show24Hours:!0,separator:":",step:30})}),t(e).siblings(".yt-timepicker-image").on("click",function(){t(this).siblings(e).focus()}))},toggleButtons:function(e){var i=t(this);i.removeClass("button").addClass("button-primary").siblings("label").removeClass("button-primary").addClass("button").siblings('[type="hidden"]').val(i.data("value")),e.preventDefault()},typographyClone:function(){t("select.yt-typography-face").each(function(){var e=t(this),i=e.data("selected"),a=t('select[data-role="fontface-dolly"][data-by="yeahthemes"]').html();e.empty().append(a),e.val(i),e[0].selectedIndex<=0&&t("option:first",e).prop("selected",!0),e.prop("disabled",!1)})},typographyPreview:function(){var e=[];t(document).on("click",".yt-typography-preview",function(i){var a=t(this),n="";a.siblings("[data-att]").each(function(e,i){n+="font-family"===t(this).data("att")?t(this).data("att")+":"+t(this).find("option:selected").data("val")+";\n":"color"===t(this).data("att")?t(this).find('input[type="text"]').val()?t(this).data("att")+":"+t(this).find('input[type="text"]').val()+";\n":"":t(this).data("att")+":"+t(this).find("select").val()+";\n"});var o,s=a.siblings('[data-att="font-family"]').find("option:selected"),r="",l="";"google-font"==s.data("font")&&(r=s.val().replace("googlefont-",""),o='<link id="yt-typography-stylesheet" href="https://fonts.googleapis.com/css?family='+r+'" rel="stylesheet" type="text/css">'),r&&(e.indexOf(r)<0&&e.push(r),t("#yt-typography-stylesheet").length?(l="https://fonts.googleapis.com/css?family="+e.join("|"),t("#yt-typography-stylesheet").attr("href")!==l&&t("#yt-typography-stylesheet").attr("href",l)):t("head").append(o)),t(this).siblings(".yt-typography-preview-area").removeClass("yt-hidden").attr("style",n),i.preventDefault()})},uiSlider:function(e){t(e).length&&t(e).each(function(e,i){var a=t(this),n=parseInt(a.data("value")),o=parseInt(a.data("min")),s=parseInt(a.data("max")),r=parseInt(a.data("step"));a.slider({range:"min",value:n,min:o,max:s,step:r,slide:function(t,e){a.closest(".yt-controls").find(".ui-slider-textfield").val(e.value)}})})},repeatableFields:{init:function(e){var i=Yeahthemes.OptionsFramework,a=!0;e=e||!1,e!==!0&&t(document).on("click",".yt-repeatable-controls.yt-repeatable-expand",function(e){var i=t(this);a?(t(this).closest(".yt-repeatable-field-block").removeClass("collapsed"),i.text("-")):(t(this).closest(".yt-repeatable-field-block").addClass("collapsed"),i.text("+")),a=!a,e.preventDefault()}).on("click",".yt-repeatable-controls.yt-repeatable-delete",function(e){var n=t(this),o=t(this).closest(".yt-repeatable-fields-wrapper"),s=o.find("ul").children().length,r=t(o.data("clone"));r.find("> .collapsed").removeClass("collapsed"),1==s?(n.closest("li").replaceWith(r),a=!a):n.closest("li").slideUp("medium","swing",function(){n.closest("li").remove(),i.optionSettingControlsAction.repeatableFields.updateFormAttr("li",o)}),e.preventDefault()}).on("click",".yt-repeatable-fields-wrapper .yt-button-add-more",function(e){var a=(t(this),".yt-repeatable-fields-wrapper"),n=t(this).closest(a).data("clone"),o=t(this).closest(a).find("> ul");t(n).appendTo(o),i.optionSettingControlsAction.repeatableFields.updateFormAttr("li",t(this).closest(a)),e.preventDefault()}).on("click",".yt-repeatable-fields-wrapper .yt-button-expand-collapse-all",function(e){var i=t(this).siblings("ul");1==i.data("collapsed")?(i.find("li").children(".collapsed").removeClass("collapsed").find(".yt-repeatable-expand").text("-"),i.data("collapsed",!1)):(i.find("li").children().addClass("collapsed").find(".yt-repeatable-expand").text("+"),i.data("collapsed",!0)),e.preventDefault()}),t(".yt-repeatable-fields-wrapper ul").sortable({opacity:.6,revert:!0,stop:function(t,e){e.item.removeAttr("style")},placeholder:"yt-ui-sortable-placeholder",sort:function(e,i){t(".yt-ui-sortable-placeholder").css({height:t(this).find(".ui-sortable-helper").height()-6,width:t(this).find(".ui-sortable-helper").width()-30}),t(this).addClass("sortabling")},cursor:"move",update:function(e,a){i.optionSettingControlsAction.repeatableFields.updateFormAttr("li",this),t(this).removeClass("sortabling")}})},resetFormFields:function(t,e){e||(e='select, input[type="hidden"], textarea, input[type="text"]'),t.find(e).val(""),t.find(".yt-screenshot").html("")},updateFormAttr:function(e,i){setTimeout(function(){t(e,i).each(function(){var e=t(this).index();t(this).find("[name]").each(function(){t(this).attr("name",function(t,i){return i.replace(/(\d+)/,function(t,i){return e})}).attr("id",function(t,i){return i.replace(/(\d+)/,function(t,i){return e})})}),t(this).removeAttr("style")})},500)}},sorterList:{init:function(){t(".yt-sorter-list").sortable({connectWith:".yt-sorter-list",receive:function(e,i){var a=t(this);a.children().length>parseInt(a.data("limits"))&&t(i.sender).sortable("cancel"),Yeahthemes.OptionsFramework.optionSettingControlsAction.sorterList.update(a)},stop:function(e,i){var a=t(this);Yeahthemes.OptionsFramework.optionSettingControlsAction.sorterList.update(a)}}).disableSelection()},update:function(e){e.children().length===parseInt(e.data("limits"))?e.parent().addClass("full"):e.parent().removeClass("full");var i=e.data("id");setTimeout(function(){e.find("[data-name]").each(function(){var e=t(this).data("name");if(e){var a=e.replace("__x_*_x__",i);t(this).attr("name",a)}})},500)}},tabGroup:function(){t(".yt-group-tab-wrapper").length&&t(".yeah-framework .yt-group-tab-wrapper").each(function(){var e=t(this),i=e.find("ul[data-ul-tab]"),a=e.attr("id");t('#post_ID[name="post_ID"]').length&&(a=a+"_"+t('#post_ID[name="post_ID"]').val()),t.cookie(a)?(t('li[data-index="'+t.cookie(a)+'"]',i).addClass("active"),t('.yt-group-tab[data-tab="'+t.cookie(a)+'"]',e).addClass("active")):(t("li:first",i).addClass("active"),t(".yt-group-tab:first",e).addClass("active")),t("li",i).on("click",function(){if(!t(this).hasClass("active")){t(this).addClass("active").siblings("li").removeClass("active");var n=t(this).index()+1;t(this).closest(i).siblings('.yt-group-tab[data-tab="'+n+'"]').addClass("active").siblings(".yt-group-tab.active").removeClass("active"),(void 0==e.attr("data-cookie")||1==parseInt(e.attr("data-cookie")))&&t.cookie(a,n,{expires:7,path:"/"}),t("body").trigger("tab-group-changed")}})})}},optionSettingPanelAjaxifyingFunctions:{backup:function(e,i,a,n){e.helper.processing();var o={action:"yt_ajax_save_options",type:"backup_options",security:a,key:n,prefix:i};t.post(ajaxurl,o,function(t){e.helper.doneProcessing(),console.log(t),-1==t?(e._container.addClass(e._failPopup+"-active"),window.setTimeout(function(){e._container.removeClass(e._failPopup+"-active")},2e3)):(e._container.addClass(e._successPopup+"-active"),window.setTimeout(function(){location.reload()},1e3))})},restore:function(e,i,a,n){e.helper.processing();var o={action:"yt_ajax_save_options",type:"restore_options",security:a,key:n,prefix:i};t.post(ajaxurl,o,function(t){e.helper.doneProcessing(),-1==t?(e._container.addClass(e._failPopup+"-active"),window.setTimeout(function(){e._container.removeClass(e._failPopup+"-active")},2e3)):(e._container.addClass(e._successPopup+"-active"),window.setTimeout(function(){location.reload()},1e3))})},"import":function(e,i,a,n){e.helper.processing();var o=t("#yt-export-data").val(),s={action:"yt_ajax_save_options",type:"import_options",security:a,data:o,key:n,prefix:i};t.post(ajaxurl,s,function(t){console.log(t),e.helper.doneProcessing(),-1==t?(e._container.addClass(e._failPopup+"-active"),window.setTimeout(function(){e._container.removeClass(e._failPopup+"-active")},2e3)):(e._container.addClass(e._successPopup+"-active"),window.setTimeout(function(){location.reload()},1e3))})},reset:function(e,i,a,n){e.helper.processing();var o=t('[name="yt_option_default_data"]').val(),s={type:"reset",action:"yt_ajax_save_options",data:o,security:a,key:n,prefix:i};t.post(ajaxurl,s,function(t){console.log(t),e.helper.doneProcessing(),1==t?(e._container.addClass(e._resetPopup+"-active"),window.setTimeout(function(){location.reload()},1e3)):(console.log(t),e._container.addClass(e._failPopup+"-active"),window.setTimeout(function(){e._container.removeClass(e._failPopup+"-active")},2e3))})},save:function(e,i,a,n,o){e.helper.processing();var s=t('#yt-form :input[name][name!="security"][name!="yt-reset"]').serialize();t('#yt-form :input[type="checkbox"]').each(function(){this.checked||(s+="&"+this.name)});var r={type:"save",action:"yt_ajax_save_options",security:a,data:s,key:n,prefix:i};t.post(ajaxurl,r,function(t){e.helper.doneProcessing(),1==t?(e._container.addClass(e._successPopup+"-active"),o.is(".yt-save-and-refresh")&&window.setTimeout(function(){location.reload()},1e3),console.log(t)):(e._container.addClass(e._failPopup+"-active"),console.log(t)),window.setTimeout(function(){e._container.removeClass(e._failPopup+"-active "+e._successPopup+"-active")},2e3)})}},optionSettingPanelAjaxifyingActions:function(){var e=this,i=t('[name="yt_option_prefix"]').val(),a=t('[name="yt_options_ajaxify_data_nonce"]').val(),n=t('[name="yt_option_key"]').val();t(document).on("click",".yt-options-framework-panel-wrapper #yt-backup-button",function(t){var o=confirm(yt_optionsVars.backupOptionsMsg);o&&e.optionSettingPanelAjaxifyingFunctions.backup(e,i,a,n),t.preventDefault()}).on("click",".yt-options-framework-panel-wrapper #yt-restore-button",function(t){var o=confirm(yt_optionsVars.restoreOptionsMsg);o&&e.optionSettingPanelAjaxifyingFunctions.restore(e,i,a,n),t.preventDefault()}).on("click",".yt-options-framework-panel-wrapper #yt-import-button",function(t){var o=confirm(yt_optionsVars.importOptionsMsg);o&&e.optionSettingPanelAjaxifyingFunctions["import"](e,i,a,n),t.preventDefault()}).on("click",".yt-options-framework-panel-wrapper .yt-save-theme-options",function(o){var s=t(this);e.optionSettingPanelAjaxifyingFunctions.save(e,i,a,n,s),o.preventDefault()}).on("click",".yt-options-framework-panel-wrapper #yt-reset",function(t){var o=confirm(yt_optionsVars.resetOptionsMsg);o&&e.optionSettingPanelAjaxifyingFunctions.reset(e,i,a,n),t.preventDefault()})}},Yeahthemes.OptionsFrameworkUploader={mediaModal:{selectedID:0,mediaFilter:""},removeFile:function(){t(document).on("click",".yt-media-remove-button",function(e){var i=t(this);i.parent().siblings(".yt-input").val(""),i.addClass("yt-hidden"),i.parent(".yt-button-action").siblings(".yt-screenshot").children().slideUp("medium","swing",function(){t(this).remove()}),e.preventDefault()})},mediaUpload:function(){var e,i={};i.buttonUploader=".yt-media-upload-button",i.selectedID=0,i.filter="",i.misc={headingText:"Insert Media",image_regex:/(^.*\.jpg|jpeg|png|gif|svg|ico*)/gi,document_regex:/(^.*\.pdf|doc|docx|ppt|pptx|odt*)/gi,audio_regex:/(^.*\.mp3|m4a|ogg|wav*)/gi,video_regex:/(^.*\.mp4|m4v|mov|wmv|avi|mpg|ogv|3gp|3g2*)/gi},i.frameDefaultSettings={id:"yeah-media",title:i.misc.headingText,priority:20},i.frameSettings={filterable:"all",searchable:!0,editable:!0,allowLocalEdits:!0,displaySettings:!0,displayUserSettings:!0,multiple:!1,menu:"default",router:"browse",toolbar:"select",autoSelect:!0,describe:!1,contentUserSetting:!0,syncSelection:!0},i.userSettings={},_.extend(i,{view:{},controller:{}});var a=wp.media.model.Attachment;wp.media.view.l10n="undefined"==typeof _wpMediaViewsL10n?{}:_wpMediaViewsL10n;wp.media.controller.yeahMediaModel=wp.media.controller.Library.extend({defaults:_.defaults(i.frameSettings,wp.media.controller.Library.prototype.defaults),activate:function(){this.updateSelection(),this.frame.on("open",this.updateSelection,this),wp.media.controller.Library.prototype.activate.apply(this,arguments)},deactivate:function(){this.frame.off("open",this.updateSelection,this),wp.media.controller.Library.prototype.deactivate.apply(this,arguments)},updateSelection:function(){var t,e=this.get("selection"),n=i.selectedID;""!==n&&-1!==n&&(t=a.get(n),t.fetch()),e.reset(t?[t]:[])}}),_.extend(i,{init:function(){t(document).on("click",i.buttonUploader,function(a){e=t(this),i.filter="undefined"!=typeof e.data("filter")&&e.data("filter")?e.data("filter"):"",i.userSettings="undefined"!=typeof e.data("settings")&&"object"==typeof e.data("settings")?e.data("settings"):{filterable:"all",library:wp.media.query({type:"all"})},i.frameDefaultSettings.title=i.misc.headingText=e.data("title"),i.selectedID=e.attr("data-id");var n;"undefined"!=typeof i.userSettings.library&&(n=i.userSettings.library,delete i.userSettings.library,("all"==n||"image"==n||"audio"==n||"video"==n||"unattached"==n)&&(i.userSettings.library=wp.media.query({type:n}))),_.extend(i.frameSettings,i.frameDefaultSettings),a.preventDefault(),i.frame().open()})},frame:function(){return this._frame?(t(".yeah-media-frame .media-frame-title h1").html(i.misc.headingText),this._frame):(i.states=[new wp.media.controller.yeahMediaModel],this._frame=wp.media({className:"yeah-media-frame media-frame no-sidebar",state:"yeah-media",button:{text:"undefined"!=typeof yt_optionsVars.useImageMsg?yt_optionsVars.useImageMsg:"Use this one"},states:i.states}),this._frame.on("open",this.open),this._frame.on("ready",this.ready),this._frame.on("close",this.close),this._frame.on("escape",this.escape),this._frame.on("menu:render:default",this.menuRender),this._frame.state("yeah-media").on("select",this.select),this._frame)},open:function(){var e=i.frame();if(t.inArray(i.filter,["all","image","video","audio","unattached"])){var a=t(e.el).find('select.attachment-filters option[value="'+i.filter+'"]');a.prop("selected",!0).change()}},ready:function(){},close:function(){},escape:function(){},menuRender:function(t){},select:function(){var e=(wp.media.view.settings,this.get("selection"));t(".added").remove(),e.map(i.showAttachmentDetails)},showAttachmentDetails:function(t){var a,n=i.frame().state("yeah-media").display(t).toJSON(),o=i.frame().state("yeah-media").get("selection").first().toJSON(),s=o.url;"undefined"!=typeof n.size&&"undefined"!=typeof o.sizes&&"undefined"!=typeof o.sizes[n.size]&&"undefined"!=typeof o.sizes[n.size].url&&(s=o.sizes[n.size].url),"image"==o.type?a='<a class="yt-uploaded-image" href="'+s+'">							<span class="yt-img-border yt-transparent-bg"><img class="yt-option-image" id="image_'+o.id+'" src="'+s+'" alt="" /></span>						</a>':void 0!==e.attr("data-format")&&"mixed"==e.data("format")||(a="<p>"+yt_optionsVars.notImageMsg+' <a href="'+s+'" target="_blank" rel="external">'+o.filename+"</a></p>"),e.parent().siblings(".yt-screenshot").show().html(a),e.parent().siblings(".yt-media-input").val("id"===e.data("by")?o.id:s),e.next("span").removeClass("yt-hidden"),e.attr("data-id",o.id)}}),t(i.init),t(".yt-input.yt-media-input").on("blur",function(){var e=t(this),i=/(^.*\.jpg|jpeg|png|gif|svg|ico*)/gi;""!==e.val()&&e.val().match(i)&&e.siblings(".yt-screenshot").html('<a href="'+e.val()+'" class="yt-uploaded-image"><span class="yt-img-border yt-transparent-bg"><img src="'+e.val()+'" ></span></a>')})},galleryUpload:function(){var e,i,a,n,o;t(document).on("click",".yt-gallery-add-image",function(s){return o=t(this),a=o.siblings(".yt-gallery-list"),n=o.siblings(".yt-gallery-hidden-input"),i=n.val(),s.preventDefault(),e?void e.open():(e=wp.media.frames.gallery_frame=wp.media({title:o.data("title"),button:{text:o.data("button")},multiple:!0,library:{type:"image"}}),e.on("open",function(){var t=e.state().get("selection");t.reset([]);var i=n.val().split(",");i.forEach(function(e){var i=wp.media.attachment(e);i.fetch(),t.add(i?[i]:[])})}),e.on("select",function(){var t=e.state().get("selection");a.empty(),i="",t.map(function(t){t=t.toJSON();var e=t.url;"undefined"!=typeof t.sizes&&"undefined"!=typeof t.sizes.thumbnail&&"undefined"!=typeof t.sizes.thumbnail.url&&(e=t.sizes.thumbnail.url),t.id&&(i=i?i+","+t.id:t.id,a.append('								<li class="image yt-transparent-bg" data-attachment-id="'+t.id+'">									<span><img src="'+e+'" /></span>									<ul class="yt-gallery-actions">										<li><a href="#" class="yt-gallery-delete" title="'+yt_optionsVars.deleteGalleryTitle+'"><i class="fa fa-trash"></i></a></li>									</ul>								</li>'),a.siblings(".yt-gallery-delete-all").removeClass("yt-hidden"))}),n.val(i)}),e.on("escape",function(){}),void e.open())}),t("a.media-button").on("click",function(){}),t(".yt-gallery-list").sortable({items:"li.image",opacity:.6,revert:!0,placeholder:"yt-ui-sortable-placeholder",stop:function(e,i){t("li",this).removeAttr("style")},sort:function(e,i){t(".yt-ui-sortable-placeholder").css({height:t(this).find(".ui-sortable-helper").height()-6,width:t(this).find(".ui-sortable-helper").width()-6})},update:function(e,i){var a="",n=t(this).siblings(".yt-gallery-hidden-input");t(this).find("li.image").each(function(){var e=t(this).data("attachment-id");a=a+e+","}),n.val(a)}}),t(document).on("click",".yt-gallery-delete",function(e){var i=t(this),a="",n=i.closest(".yt-gallery-list"),o=n.siblings(".yt-gallery-hidden-input");i.closest("li.image").remove(),n.children().length||n.siblings(".yt-gallery-delete-all").addClass("yt-hidden"),n.find("li.image").each(function(){var e=t(this).data("attachment-id");a=a+e+","}),o.val(a),e.preventDefault()}),t(document).on("click",".yt-gallery-delete-all",function(e){var i=t(this),a=i.siblings(".yt-gallery-list"),n=i.siblings(".yt-gallery-hidden-input"),o=confirm(i.data("confirm"));if(o){var s=a.children();s.length-1;s.remove(),n.val(""),i.addClass("yt-hidden")}e.preventDefault()})},fileUpload:function(){var e,i,a,n,o,s;t(document).on("click",".yt-files-add-files",function(r){return o=t(this),a=o.siblings(".yt-files-list"),n=o.siblings(".yt-files-hidden-input"),i=n.val(),s=o.data("filter"),r.preventDefault(),e?void e.open():(e=wp.media.frames.files_frame=wp.media({state:"yeah-files-media",button:{text:o.data("button")},library:{type:"image"}}),e.states.add([new wp.media.controller.Library({id:"yeah-files-media",title:o.data("title"),priority:20,filterable:"all",searchable:!0,editable:!0,allowLocalEdits:!1,multiple:!0,displaySettings:!0,displayUserSettings:!1})]),e.on("open",function(){if(t.inArray(s,["all","image","video","audio","unattached"])){var i=t(e.el).find('select.attachment-filters option[value="'+s+'"]');i.prop("selected",!0).change()}var a=e.state().get("selection");a.reset([]);var o=n.val().split(",");o.forEach(function(t){var e=wp.media.attachment(t);e.fetch(),a.add(e?[e]:[])})}),e.on("select",function(){var t=e.state().get("selection");a.empty(),i="",t.map(function(t){t=t.toJSON();var e=t.url;"undefined"!=typeof t.sizes&&"undefined"!=typeof t.sizes.thumbnail&&"undefined"!=typeof t.sizes.thumbnail.url&&(e=t.sizes.thumbnail.url),t.id&&(console.log(t),i=i?i+","+t.id:t.id,a.append('								<li class="file" data-attachment-id="'+t.id+'">									<span>'+t.filename+' <a href="'+t.url+'">#</a></span>								</li>'),a.siblings(".yt-files-delete-all").removeClass("yt-hidden"))}),n.val(i)}),e.on("escape",function(){}),void e.open())}),t("a.media-button").on("click",function(){}),
t(".yt-files-list").sortable({items:"li.file",opacity:.6,revert:!0,stop:function(e,i){t("li",this).removeAttr("style")},sort:function(t,e){},update:function(e,i){var a="",n=t(this).siblings(".yt-files-hidden-input");t(this).find("li.file").each(function(){var e=t(this).data("attachment-id");a=a+e+","}),n.val(a)}}),t(document).on("click",".yt-files-delete-all",function(e){var i=t(this),a=i.siblings(".yt-files-list"),n=i.siblings(".yt-files-hidden-input"),o=confirm(i.data("confirm"));if(o){var s=a.children();s.length-1;s.remove(),n.val(""),i.addClass("yt-hidden")}e.preventDefault()})}},Yeahthemes.Helper={arrayUniqueNoempty:function(t){var e=[];return jQuery.each(t,function(t,i){i=jQuery.trim(i),i&&-1==jQuery.inArray(i,e)&&e.push(i)}),e},triggering:function(e,i){return t(e).length&&t(e).trigger(i),!1},has3d:function(){var t,e=document.createElement("p"),i={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};document.body.insertBefore(e,null);for(var a in i)void 0!==e.style[a]&&(e.style[a]="translate3d(1px,1px,1px)",t=window.getComputedStyle(e).getPropertyValue(i[a]));return document.body.removeChild(e),void 0!==t&&t.length>0&&"none"!==t},tabifyTextarea:function(e){var i=e.keyCode||e.which;if(9==i){e.preventDefault();var a=t(this).get(0).selectionStart,n=t(this).get(0).selectionEnd;t(this).val(t(this).val().substring(0,a)+"	"+t(this).val().substring(n)),t(this).get(0).selectionStart=t(this).get(0).selectionEnd=a+1}else event.shiftKey&&9==event.keyCode},escapeHtml:function(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}},Yeahthemes.OptionsFramework.init())}(jQuery);
